{"remainingRequest":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/src/components/Pie.vue?vue&type=style&index=0&id=47999ce8&scoped=true&lang=css&","dependencies":[{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/src/components/Pie.vue","mtime":1621435428451},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0Kc3ZnIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE1MiwgMTQwLCAyMjEpOw0KfQ0K"},{"version":3,"sources":["Pie.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA","file":"Pie.vue","sourceRoot":"src/components","sourcesContent":["\r\n<template>\r\n  <svg width=\"700\" height=\"700\" />\r\n</template>\r\n<script>\r\n//const d3 = require('d3');\r\nimport * as d3 from \"d3\";\r\n\r\nexport default {\r\n  props: [\"data\"],\r\n  watch: {\r\n    data: function(newData) {\r\n      this.drawChart(newData);\r\n    }\r\n  },\r\n  methods: {\r\n    drawChart: function(data) {\r\n      var angleGen = d3\r\n        .pie()\r\n        .value(d => d.count)\r\n        .sortValues((a, b) => (a < b ? 1 : -1));\r\n      var arcs = angleGen(data);\r\n\r\n      var block = this.pieG.selectAll(\".arc\").data(arcs);\r\n      block.select(\"path\").attr(\"d\", this.arc);\r\n      var newBlock = block\r\n        .enter()\r\n        .append(\"g\")\r\n        .classed(\"arc\", true);\r\n      var colorScale = d3\r\n        .scaleSequential(d3.interpolate(\"purple\", \"orange\"))\r\n        .domain([1, 4]);\r\n      newBlock\r\n        .append(\"path\")\r\n        .attr(\"d\", this.arc)\r\n        .attr(\"id\", function(d, i) {\r\n          return \"arc-\" + i;\r\n        })\r\n        .attr(\"stroke\", \"gray\")\r\n        .attr(\"fill\", d => colorScale(d.value));\r\n      newBlock\r\n        .append(\"text\")\r\n        .attr(\"dx\", 70)\r\n        .attr(\"dy\", -5)\r\n        .append(\"textPath\")\r\n        .attr(\"xlink:href\", function(d, i) {\r\n          return \"#arc-\" + i;\r\n        })\r\n        .text(function(d) {\r\n          return d.data.name + \"-\" + d.data.dept_id;\r\n        });\r\n    }\r\n  },\r\n  mounted: function() {\r\n    var svg = d3.select(this.$el);\r\n    var width = +svg.attr(\"width\");\r\n    var height = +svg.attr(\"height\");\r\n    var margin = { top: 20, left: 0, bottom: 30, right: 0 };\r\n    var chartWidth = width - (margin.left + margin.right);\r\n    var chartHeight = height - (margin.top + margin.bottom);\r\n    this.chartLayer = svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\r\n    this.arc = d3\r\n      .arc()\r\n      .outerRadius(chartHeight / 2.5)\r\n      .innerRadius(chartHeight / 5)\r\n      .padAngle(0.03)\r\n      .cornerRadius(8);\r\n    this.pieG = this.chartLayer\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${chartWidth / 2}, ${chartHeight / 2})`);\r\n    this.drawChart(this.data);\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\nsvg {\r\n  background-color: rgb(152, 140, 221);\r\n}\r\n</style>>\r\n"]}]}