{"remainingRequest":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/src/components/Pie.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/src/components/Pie.vue","mtime":1621435428451},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/heewonyouh/Desktop/SSAFY5th/WebFront/vuejs/HappyHouseVue_김호석_유희원/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQovL2NvbnN0IGQzID0gcmVxdWlyZSgnZDMnKTsNCmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogWyJkYXRhIl0sDQogIHdhdGNoOiB7DQogICAgZGF0YTogZnVuY3Rpb24obmV3RGF0YSkgew0KICAgICAgdGhpcy5kcmF3Q2hhcnQobmV3RGF0YSk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZHJhd0NoYXJ0OiBmdW5jdGlvbihkYXRhKSB7DQogICAgICB2YXIgYW5nbGVHZW4gPSBkMw0KICAgICAgICAucGllKCkNCiAgICAgICAgLnZhbHVlKGQgPT4gZC5jb3VudCkNCiAgICAgICAgLnNvcnRWYWx1ZXMoKGEsIGIpID0+IChhIDwgYiA/IDEgOiAtMSkpOw0KICAgICAgdmFyIGFyY3MgPSBhbmdsZUdlbihkYXRhKTsNCg0KICAgICAgdmFyIGJsb2NrID0gdGhpcy5waWVHLnNlbGVjdEFsbCgiLmFyYyIpLmRhdGEoYXJjcyk7DQogICAgICBibG9jay5zZWxlY3QoInBhdGgiKS5hdHRyKCJkIiwgdGhpcy5hcmMpOw0KICAgICAgdmFyIG5ld0Jsb2NrID0gYmxvY2sNCiAgICAgICAgLmVudGVyKCkNCiAgICAgICAgLmFwcGVuZCgiZyIpDQogICAgICAgIC5jbGFzc2VkKCJhcmMiLCB0cnVlKTsNCiAgICAgIHZhciBjb2xvclNjYWxlID0gZDMNCiAgICAgICAgLnNjYWxlU2VxdWVudGlhbChkMy5pbnRlcnBvbGF0ZSgicHVycGxlIiwgIm9yYW5nZSIpKQ0KICAgICAgICAuZG9tYWluKFsxLCA0XSk7DQogICAgICBuZXdCbG9jaw0KICAgICAgICAuYXBwZW5kKCJwYXRoIikNCiAgICAgICAgLmF0dHIoImQiLCB0aGlzLmFyYykNCiAgICAgICAgLmF0dHIoImlkIiwgZnVuY3Rpb24oZCwgaSkgew0KICAgICAgICAgIHJldHVybiAiYXJjLSIgKyBpOw0KICAgICAgICB9KQ0KICAgICAgICAuYXR0cigic3Ryb2tlIiwgImdyYXkiKQ0KICAgICAgICAuYXR0cigiZmlsbCIsIGQgPT4gY29sb3JTY2FsZShkLnZhbHVlKSk7DQogICAgICBuZXdCbG9jaw0KICAgICAgICAuYXBwZW5kKCJ0ZXh0IikNCiAgICAgICAgLmF0dHIoImR4IiwgNzApDQogICAgICAgIC5hdHRyKCJkeSIsIC01KQ0KICAgICAgICAuYXBwZW5kKCJ0ZXh0UGF0aCIpDQogICAgICAgIC5hdHRyKCJ4bGluazpocmVmIiwgZnVuY3Rpb24oZCwgaSkgew0KICAgICAgICAgIHJldHVybiAiI2FyYy0iICsgaTsNCiAgICAgICAgfSkNCiAgICAgICAgLnRleHQoZnVuY3Rpb24oZCkgew0KICAgICAgICAgIHJldHVybiBkLmRhdGEubmFtZSArICItIiArIGQuZGF0YS5kZXB0X2lkOw0KICAgICAgICB9KTsNCiAgICB9DQogIH0sDQogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBzdmcgPSBkMy5zZWxlY3QodGhpcy4kZWwpOw0KICAgIHZhciB3aWR0aCA9ICtzdmcuYXR0cigid2lkdGgiKTsNCiAgICB2YXIgaGVpZ2h0ID0gK3N2Zy5hdHRyKCJoZWlnaHQiKTsNCiAgICB2YXIgbWFyZ2luID0geyB0b3A6IDIwLCBsZWZ0OiAwLCBib3R0b206IDMwLCByaWdodDogMCB9Ow0KICAgIHZhciBjaGFydFdpZHRoID0gd2lkdGggLSAobWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpOw0KICAgIHZhciBjaGFydEhlaWdodCA9IGhlaWdodCAtIChtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSk7DQogICAgdGhpcy5jaGFydExheWVyID0gc3ZnDQogICAgICAuYXBwZW5kKCJnIikNCiAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCAke21hcmdpbi50b3B9KWApOw0KICAgIHRoaXMuYXJjID0gZDMNCiAgICAgIC5hcmMoKQ0KICAgICAgLm91dGVyUmFkaXVzKGNoYXJ0SGVpZ2h0IC8gMi41KQ0KICAgICAgLmlubmVyUmFkaXVzKGNoYXJ0SGVpZ2h0IC8gNSkNCiAgICAgIC5wYWRBbmdsZSgwLjAzKQ0KICAgICAgLmNvcm5lclJhZGl1cyg4KTsNCiAgICB0aGlzLnBpZUcgPSB0aGlzLmNoYXJ0TGF5ZXINCiAgICAgIC5hcHBlbmQoImciKQ0KICAgICAgLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtjaGFydFdpZHRoIC8gMn0sICR7Y2hhcnRIZWlnaHQgLyAyfSlgKTsNCiAgICB0aGlzLmRyYXdDaGFydCh0aGlzLmRhdGEpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["Pie.vue"],"names":[],"mappings":";;;;;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pie.vue","sourceRoot":"src/components","sourcesContent":["\r\n<template>\r\n  <svg width=\"700\" height=\"700\" />\r\n</template>\r\n<script>\r\n//const d3 = require('d3');\r\nimport * as d3 from \"d3\";\r\n\r\nexport default {\r\n  props: [\"data\"],\r\n  watch: {\r\n    data: function(newData) {\r\n      this.drawChart(newData);\r\n    }\r\n  },\r\n  methods: {\r\n    drawChart: function(data) {\r\n      var angleGen = d3\r\n        .pie()\r\n        .value(d => d.count)\r\n        .sortValues((a, b) => (a < b ? 1 : -1));\r\n      var arcs = angleGen(data);\r\n\r\n      var block = this.pieG.selectAll(\".arc\").data(arcs);\r\n      block.select(\"path\").attr(\"d\", this.arc);\r\n      var newBlock = block\r\n        .enter()\r\n        .append(\"g\")\r\n        .classed(\"arc\", true);\r\n      var colorScale = d3\r\n        .scaleSequential(d3.interpolate(\"purple\", \"orange\"))\r\n        .domain([1, 4]);\r\n      newBlock\r\n        .append(\"path\")\r\n        .attr(\"d\", this.arc)\r\n        .attr(\"id\", function(d, i) {\r\n          return \"arc-\" + i;\r\n        })\r\n        .attr(\"stroke\", \"gray\")\r\n        .attr(\"fill\", d => colorScale(d.value));\r\n      newBlock\r\n        .append(\"text\")\r\n        .attr(\"dx\", 70)\r\n        .attr(\"dy\", -5)\r\n        .append(\"textPath\")\r\n        .attr(\"xlink:href\", function(d, i) {\r\n          return \"#arc-\" + i;\r\n        })\r\n        .text(function(d) {\r\n          return d.data.name + \"-\" + d.data.dept_id;\r\n        });\r\n    }\r\n  },\r\n  mounted: function() {\r\n    var svg = d3.select(this.$el);\r\n    var width = +svg.attr(\"width\");\r\n    var height = +svg.attr(\"height\");\r\n    var margin = { top: 20, left: 0, bottom: 30, right: 0 };\r\n    var chartWidth = width - (margin.left + margin.right);\r\n    var chartHeight = height - (margin.top + margin.bottom);\r\n    this.chartLayer = svg\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\r\n    this.arc = d3\r\n      .arc()\r\n      .outerRadius(chartHeight / 2.5)\r\n      .innerRadius(chartHeight / 5)\r\n      .padAngle(0.03)\r\n      .cornerRadius(8);\r\n    this.pieG = this.chartLayer\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${chartWidth / 2}, ${chartHeight / 2})`);\r\n    this.drawChart(this.data);\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\nsvg {\r\n  background-color: rgb(152, 140, 221);\r\n}\r\n</style>>\r\n"]}]}